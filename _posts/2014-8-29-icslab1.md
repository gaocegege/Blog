---
layout: post
title: "SJTU->SE->ICS->LAB1 Data"
description: 
headline: 
modified: 2014-08-28
category: ICS
tags: [cpp, computer system]
imagefeature: 
mathjax: 
chart: 
comments: true
featured: true
---

ICS的第一个lab，现在想起来当时真是好认真，每个函数都是想了很久，自己一点点写出来的。其实第一个lab的难度挺高的，主要体现在数学方面= =高数期中挂科表示数学无力，这个lab记得DL是两周，真的是花了整整一周的时间在做，题目常常需要的操作有减法，考虑正负等等问题。

## 第一个问题

    /* Q1
    * bang - Compute !x without using !
    *   Examples: bang(3) = 0, bang(0) = 1
    *   Legal ops: ~ & ^ | + << >>
    *   Max ops: 12
    *   Rating: 4 
    */
    int bang(int x) {
        int oppo = (~x)+1;//the opposite
        return (~((x|oppo)>>31))&1;
	}

第一个问题，是模拟！操作，非零输出0，零输出1。我的做法是取他的相反数，然后根据相反数跟其原来的数字的符号做操作，想法很直观。

##第二个问题

	/*Q2 
    * bitCount - returns count of number of 1's in word 
    *   Examples: bitCount(5) = 2, bitCount(7) = 3 
    *   Legal ops: ! ~ & ^ | + << >> 
    *   Max ops: 40 
    *   Rating: 4 
    */  
	int bitCount(int x) {  
        int m1=0x11 | (0x11<<8);  
        int mask=m1 | (m1<<16);  
        int s = x&mask;  
        s+=x>>1&mask;  
        s+=x>>2&mask;  
        s+=x>>3&mask;  
        s=s+(s>>16);  
        mask=0xf | (0xf<<8);  
        s=(s&mask)+((s>>4)&mask);//this is the things what the teacher said in class  
        return (s+(s>>8))&0x3f;  
	}

第二个问题，题目意思是计算二进制中1的个数。其实不会做，但是老师上课给了这道题的答案= =好烦，不看了。

##第三个问题

    /* Q3 
    * copyLSB - set all bits of result to least significant bit of x 
    *   Example: copyLSB(5) = 0xFFFFFFFF, copyLSB(6) = 0x00000000 
    *   Legal ops: ! ~ & ^ | + << >> 
    *   Max ops: 5 
    *   Rating: 2 
    */  
    int copyLSB(int x) {  
        x = x & 0x1;  
        x = (x << 31);  
        x = (x >> 31);//watch the MSB  
        return x;  
	}

